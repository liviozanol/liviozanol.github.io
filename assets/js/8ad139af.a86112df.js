"use strict";(self.webpackChunklivio_dump_page=self.webpackChunklivio_dump_page||[]).push([[2633],{3905:function(t,e,a){a.d(e,{Zo:function(){return m},kt:function(){return d}});var n=a(7294);function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){o(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e){if(null==t)return{};var a,n,o=function(t,e){if(null==t)return{};var a,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||(o[a]=t[a]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(o[a]=t[a])}return o}var s=n.createContext({}),u=function(t){var e=n.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):r(r({},e),t)),a},m=function(t){var e=u(t.components);return n.createElement(s.Provider,{value:e},t.children)},c={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},p=n.forwardRef((function(t,e){var a=t.components,o=t.mdxType,i=t.originalType,s=t.parentName,m=l(t,["components","mdxType","originalType","parentName"]),p=u(a),d=o,g=p["".concat(s,".").concat(d)]||p[d]||c[d]||i;return a?n.createElement(g,r(r({ref:e},m),{},{components:a})):n.createElement(g,r({ref:e},m))}));function d(t,e){var a=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var i=a.length,r=new Array(i);r[0]=p;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l.mdxType="string"==typeof t?t:o,r[1]=l;for(var u=2;u<i;u++)r[u]=a[u];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},3288:function(t,e,a){a.r(e),a.d(e,{assets:function(){return m},contentTitle:function(){return s},default:function(){return d},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return c}});var n=a(7462),o=a(3366),i=(a(7294),a(3905)),r=["components"],l={slug:"full-stack-it-automation-part-11",title:"Full-Stack Automation Part 11 - Conclusions",authors:["livio"],tags:["automation","awx","ansible","gitlab","network automation","gitlab-ci","CI/CD","gitops","react admin"]},s=void 0,u={permalink:"/full-stack-it-automation-part-11",editUrl:"https://github.com/liviozanol/liviozanol.github.io/blog/2022-02-22-automation-11/index.md",source:"@site/blog/2022-02-22-automation-11/index.md",title:"Full-Stack Automation Part 11 - Conclusions",description:"Conclusion",date:"2022-02-22T00:00:00.000Z",formattedDate:"February 22, 2022",tags:[{label:"automation",permalink:"/tags/automation"},{label:"awx",permalink:"/tags/awx"},{label:"ansible",permalink:"/tags/ansible"},{label:"gitlab",permalink:"/tags/gitlab"},{label:"network automation",permalink:"/tags/network-automation"},{label:"gitlab-ci",permalink:"/tags/gitlab-ci"},{label:"CI/CD",permalink:"/tags/ci-cd"},{label:"gitops",permalink:"/tags/gitops"},{label:"react admin",permalink:"/tags/react-admin"}],readingTime:2.14,truncated:!0,authors:[{name:"L\xedvio Zanol Puppim",title:"Me",url:"https://github.com/liviozanol",imageURL:"https://github.com/liviozanol.png",key:"livio"}],frontMatter:{slug:"full-stack-it-automation-part-11",title:"Full-Stack Automation Part 11 - Conclusions",authors:["livio"],tags:["automation","awx","ansible","gitlab","network automation","gitlab-ci","CI/CD","gitops","react admin"]},prevItem:{title:'Using vSphere Distributed Switch (VDS) for stateless "traffic filtering" (or ACL)',permalink:"/vmware-vds-traffic-filter"},nextItem:{title:"Full-Stack Automation Part 10 - Demo - UI",permalink:"/full-stack-it-automation-part-10-demo-ui"}},m={authorsImageUrls:[void 0]},c=[{value:"Conclusion",id:"conclusion",level:2}],p={toc:c};function d(t){var e=t.components,a=(0,o.Z)(t,r);return(0,i.kt)("wrapper",(0,n.Z)({},p,a,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"conclusion"},"Conclusion"),(0,i.kt)("p",null,"This series of posts demonstrated how to use some nice tools to build a simple full-stack automation solution that can be \xa0used to automate almost everything on your infrastructure."),(0,i.kt)("p",null,"The architecture demonstrated is not static and can be modified to best fit a team/company needs."),(0,i.kt)("p",null,"You can (and should) separate the API on 2 layers: One to deal with data validation and business rules (this is accessed by the user); One with basic validation, parsing and uploading data on gitlab."),(0,i.kt)("p",null,"You can make an audit function, either together on the pipeline/awx or separated. You gather info from your automated element (eg.: router) and compare it with the information on gitlab (reverse parsing it) to be sure that what was sent is really on the automated element."),(0,i.kt)("p",null,"You can (and really should) add a bastion host to access your automated elements, and make AWX use, for example, SSH tunnel prior to connecting to the automated element, protecting it even more from undesirable access."),(0,i.kt)("p",null,"To build the full-stack automation from scratch, were spent the following estimate hours:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Automate AWX installation and customization it using its APIs: ",(0,i.kt)("strong",{parentName:"li"},"~ 8 hours"),".",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Some bugs and CentOs deprecated version really impacted on this. Had some previous knowledge on how to use AWX API, which helped."))),(0,i.kt)("li",{parentName:"ul"},"Automate installation and customization of Gitlab, Gitlab CI and 2 Hashicorp Vault: ",(0,i.kt)("strong",{parentName:"li"},"~ 4 hours"),".",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"These are pretty straightforward."))),(0,i.kt)("li",{parentName:"ul"},"Build the ansible playbook and test it: ",(0,i.kt)("strong",{parentName:"li"},"~ 6 hours"),".",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Jinja templates and language are difficult to understand. Had previous knowledge on playbooks, but very few on jinja templates."))),(0,i.kt)("li",{parentName:"ul"},"Build the API using ",(0,i.kt)("a",{parentName:"li",href:"https://fastapi.tiangolo.com/"},"Python FastAPI"),": ",(0,i.kt)("strong",{parentName:"li"},"~ 4 hours"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Had some basic knowledge of python dev and zero knowledge on Fast API. Very nice framework with easy learning curve."))),(0,i.kt)("li",{parentName:"ul"},"Build and test the main gitlab CI/CD script which is responsible to get modified data and push to AWX: ",(0,i.kt)("strong",{parentName:"li"},"~ 1,5 hour"),".",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Had some previous knowledge on gitlab-CI."))),(0,i.kt)("li",{parentName:"ul"},"Build the CI/CD for the APIs, Bastion Host and Web Interface: ",(0,i.kt)("strong",{parentName:"li"},"~ 2 hours"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Had some previous knowledge on gitlab-CI."))),(0,i.kt)("li",{parentName:"ul"},"Make the web interface using basic React Admin elements: ",(0,i.kt)("strong",{parentName:"li"},"~ 4 hours"),".",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Had some previous knowledge on React Admin."),(0,i.kt)("li",{parentName:"ul"},"Adjusting the queries from/to the API took most of the time."),(0,i.kt)("li",{parentName:"ul"},"Making the basic list/edit page was easy (~ 2 hours?). You can see that ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/liviozanol/full-stack_automation/blob/master/demo/fullstack-ui/src/wanSite.js"},"the code is simple"),"."),(0,i.kt)("li",{parentName:"ul"},"Making complex things requires good knowledge on JS/React JS.")))),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Feel free to contact me by e-mail: livio at zanol.com.br to further discuss this subject."))))}d.isMDXComponent=!0}}]);